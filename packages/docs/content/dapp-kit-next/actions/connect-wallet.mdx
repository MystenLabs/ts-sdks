---
title: Connect Wallet
---

The dApp Kit Next provides an action for wallet connection, allowing users to connect, disconnect,
and switch between wallets and accounts.

<Callout>
	The [Connect Button](../web-components/connect-button) Web Component provides a complete wallet
	connection UI.
</Callout>

## Usage

<Callout>
	Auto-connect is enabled by default and will attempt to restore the previous wallet connection on
	page reload. This provides a seamless user experience but can be
	[disabled](../create-dapp-kit#disabling-auto-connect) if needed.
</Callout>

The `connectWallet` action prompts a wallet to connect and authorize accounts for your application:

```typescript
import { createDAppKit } from '@mysten/dapp-kit-core';

const dAppKit = createDAppKit({
	/* config */
});

// Connect to a specific wallet
const result = await dAppKit.connectWallet({
	wallet: myWallet, // UiWallet instance
	account: myAccount, // Optional: specific account to select
});

console.log('Connected accounts:', result.accounts);
```

## Parameters

- **`wallet`** - The `UiWallet` instance to connect to
- **`account`** (optional) - A specific `UiWalletAccount` to set as the selected account. Defaults
  to the first authorized account

## Return Value

Returns a `Promise` that resolves to an object containing:

- **`accounts`** - Array of authorized `UiWalletAccount` instances

## Error Handling

```typescript
import { WalletNoAccountsConnectedError, WalletAccountNotFoundError } from '@mysten/dapp-kit-core';

try {
	const result = await dAppKit.connectWallet({ wallet });
	console.log('Connected:', result.accounts);
} catch (error) {
	if (error instanceof WalletNoAccountsConnectedError) {
		console.error('No accounts were authorized');
	} else if (error instanceof WalletAccountNotFoundError) {
		console.error('Specified account not found in wallet');
	} else {
		console.error('Connection failed:', error);
	}
}
```

## Example

```typescript
// Get available wallets
const wallets = dAppKit.stores.$wallets.get();

// Connect to the first available wallet
if (wallets.length > 0) {
	try {
		const { accounts } = await dAppKit.connectWallet({
			wallet: wallets[0],
		});
		console.log('Connected accounts:', accounts);
	} catch (error) {
		console.error('Connection failed:', error);
	}
}

// Subscribe to connection changes
const unsubscribe = dAppKit.stores.$connection.subscribe((connection) => {
	const statusElement = document.getElementById('connection-status');

	if (connection.isConnected && connection.account && connection.wallet) {
		statusElement.textContent = `Connected: ${connection.account.address}`;
	} else {
		statusElement.textContent = 'Not connected';
	}
});
```
