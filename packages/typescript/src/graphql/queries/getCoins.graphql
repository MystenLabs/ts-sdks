# Copyright (c) Mysten Labs, Inc.
# SPDX-License-Identifier: Apache-2.0

query getCoins(
	$owner: SuiAddress!
	$first: Int
	$cursor: String
	$type: String = "0x2::coin::Coin<0x2::sui::SUI>"
	$includeContent: Boolean = false
	$includePreviousTransaction: Boolean = false
) {
	address(address: $owner) {
		address
		objects(first: $first, after: $cursor, filter: { type: $type }) {
			pageInfo {
				hasNextPage
				endCursor
			}
			nodes {
				owner {
					...OBJECT_OWNER_FIELDS
				}
				contents {
					bcs @include(if: $includeContent)
					json
					type {
						repr
					}
				}
				address
				version
				digest
				previousTransaction @include(if: $includePreviousTransaction) {
					digest
				}
			}
		}
	}
}
